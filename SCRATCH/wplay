/**
 * @author      : alex (alexbora@gmail.com)
 * @file        : wplay
 * @created     : DuminicÄƒ Feb 27, 2022 15:36:41 EET
 */

#include <stdlib.h>

/**********************************************
****GENERATE RANDOM NUMBERS IN A GIVEN RANGE***
***********************************************/
#include <math.h>
#include <stdio.h>
#include <time.h>

/**Function that generates a random number.
Parameters:
r0: initial (first) seed
a: scale factor , so that a*r0 give the first random number
m: gives the max. value of random numbers that can be generated (m-1)
c: additional displacement(offset) factor
**/
static int randx(int r0, int a, int m, int c) {
  int r1 = (a * r0 + c) % m;
  return r1;
}
/**Function that generates random numbers in a given range: [min,max], given a
seed r0, and stores them in an array that is passed as an argument. Parameters:
r0: initial (first) seed
a: scale factor , so that a*r0 give the first random number
m: gives the max. value of random numbers that can be generated (m-1)
c: additional displacement factor
n: no. of random numbers to be generated
x[n]: array that will store the random numbers
min: lower limit for random nos.
max: upper limit for random nos.
**/
static void randomNos(int r0, int a, int m, int c, int n, int x[n], int min,
                      int max) {
  int r1 = randx(r0, a, m, c);
  int r2 = min + ((max - min + 1) * r1) / m;
  for (int i = 0; i < n; i++) {
    x[i] = r2;
    r1 = randx(r1, a, m, c);
    r2 = min + ((max - min + 1) * r1) / m;
  }
}

static struct Route {
  char* route;
  long km;
  char* obs;
} tmp[32], parcurs[16] = {{"Cluj-Oradea", 321, "Interes Serviciu"},
                          {"Cluj-Turda", 121, "Interes Serviciu"},
                          {"Cluj-Zalau", 156, "Interes Serviciu"},
                          {"Cluj-Baia-Mare", 356, "Interes Serviciu"},
                          {"Cluj-Bistrita", 257, "Interes Serviciu"},
                          {"Cluj-Dej", 101, "Interes Serviciu"},
                          {"Cluj-Cluj", 47, "Interes Serviciu"},
                          {"Acasa-Birou", 30, " "},
                          {"Acasa-Birou", 30, " "},
                          {"Acasa-Birou", 30, " "},
                          {"Acasa-Birou", 30, " "},
                          {"Acasa-Birou", 30, " "},
                          {"Cluj-Cmp. Turzii", 152, "Interes Serviciu"},
                          {"Cluj-Apahida", 85, "Interes Serviciu"},
                          {"Cluj-Bontida", 92, "Interes Serviciu"},
                          {"Cluj-Satu-Mare", 421, "Interes Serviciu"}};

int main() {
  srand((unsigned)time(0));
  int min, max, n, a = 1093, m = 86436, c = 18257, r0 = rand() % 43;
  printf("Enter the lower limit:\n");
  scanf("%d", &min);
  printf("Enter the higher limit:\n");
  scanf("%d", &max);
  printf("Enter the no. of random numbers required:\n");
  scanf("%d", &n);

  int random[n];

  randomNos(r0, a, m, c, n, random, min, max);

  printf("The random numbers between %d and %d are:\n", min, max);

  for (int i = 0; i < n; i++) {
    /* printf("%d\n", random[i]); */
    printf("%s\n", parcurs[random[i]].route);
    tmp[i] = parcurs[random[i]];
  }

  int km = 0;
  for (int i = 0; i < 20; i++) {
    km += tmp[i].km;
  }
  printf("%d\n", km);
  return 0;
}
